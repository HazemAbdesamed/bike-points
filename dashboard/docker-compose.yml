version: '3'

services:

  trino:
    image: trinodb/trino:355
    container_name: trino
    hostname: trino
    ports:
      - '8090:8080'
    volumes:
      - ./config/cassandra.properties:/etc/trino/catalog/cassandra.properties
      - ./config/kafka.properties:/etc/trino/catalog/kafka.properties
      # - ./config/create-metrics-view.sql:/etc/trino/create-metrics-view.sql
      # - ./config/trino-entrypoint.sh:/etc/trino/trino-entrypoint.sh
      # - ./config/config.properties:/etc/trino/config.properties
    networks:
        - dashboard-network
        - spark_data-network

  superset:
      container_name: superset
      hostname: superset
      build:
        context: .
        dockerfile: Dockerfile
      depends_on:
        - trino
      ports:
        - '8088:8088'
      networks:
        - dashboard-network
        - spark_data-network
             